{"swagger":"2.0","info":{"description":"Documentação da API para acesso aos endpoints do serviço de mesa do CAPANA","version":"1.0","title":"Mesa API"},"host":"localhost:9000","basePath":"/mesa/","tags":[{"name":"consulta-controller","description":"Consulta Controller"}],"paths":{"/consultas/parcial":{"get":{"tags":["consulta-controller"],"summary":"listarParcial","operationId":"listarParcialUsingGET","produces":["*/*"],"parameters":[{"name":"origemComercial","in":"query","required":false,"type":"array","items":{"type":"integer","format":"int64"},"collectionFormat":"multi"},{"name":"status","in":"query","required":false,"type":"array","items":{"type":"string","enum":["PENDENTE","EM_ANALISE","FINALIZADO"]},"collectionFormat":"multi","enum":["PENDENTE","EM_ANALISE","FINALIZADO"]},{"name":"decisoes","in":"query","required":false,"type":"array","items":{"type":"string","enum":["APROVADO","REPROVADO","ABSTIDO","DOCUMENTACAO_INVALIDA","BIOMETRIA_INVALIDA"]},"collectionFormat":"multi","enum":["APROVADO","REPROVADO","ABSTIDO","DOCUMENTACAO_INVALIDA","BIOMETRIA_INVALIDA"]},{"name":"filaAtualIds","in":"query","required":false,"type":"array","items":{"type":"integer","format":"int64"},"collectionFormat":"multi"},{"name":"proposta","in":"query","required":false,"type":"integer","format":"int64"},{"name":"produto","in":"query","required":false,"type":"integer","format":"int64"},{"name":"clienteNome","in":"query","required":false,"type":"string"},{"name":"clienteDocumento","in":"query","required":false,"type":"string"},{"name":"marcadoresId","in":"query","required":false,"type":"integer","format":"int64"},{"name":"dataInicio","in":"query","required":false,"type":"string","format":"date-time"},{"name":"dataFim","in":"query","required":false,"type":"string","format":"date-time"},{"name":"limiteSugeridoMax","in":"query","required":false,"type":"number"},{"name":"limiteSugeridoMin","in":"query","required":false,"type":"number"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«Page«ConsultaPartialResponse»»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"Authorization":["global"]}]}},"/consultas/status/em-analise/minha":{"get":{"tags":["consulta-controller"],"summary":"buscarMinhaEmAnalise","operationId":"buscarMinhaEmAnaliseUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaResponse»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}":{"get":{"tags":["consulta-controller"],"summary":"buscar","operationId":"buscarUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaResponse»"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/abstencao":{"patch":{"tags":["consulta-controller"],"summary":"abster","operationId":"absterUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"consultaRequest","description":"consultaRequest","required":true,"schema":{"$ref":"#/definitions/ConsultaDecisaoRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaMinResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/aprovacao":{"patch":{"tags":["consulta-controller"],"summary":"aprovar","operationId":"aprovarUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"consultaRequest","description":"consultaRequest","required":true,"schema":{"$ref":"#/definitions/ConsultaAprovacaoRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaMinResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/atribuicao":{"patch":{"tags":["consulta-controller"],"summary":"atribuir","operationId":"atribuirUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/biometria-invalida":{"patch":{"tags":["consulta-controller"],"summary":"decidirBiometriaInvalida","operationId":"decidirBiometriaInvalidaUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"consultaRequest","description":"consultaRequest","required":true,"schema":{"$ref":"#/definitions/ConsultaDecisaoRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaMinResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/checklist":{"patch":{"tags":["consulta-controller"],"summary":"marcarItens","operationId":"marcarItensUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"request","description":"request","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/ItemChecadoRequest"}}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaMinResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/desvinculacao":{"patch":{"tags":["consulta-controller"],"summary":"desvincular","operationId":"desvincularUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaMinResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/documentacao-invalida":{"patch":{"tags":["consulta-controller"],"summary":"decidirDocumentacaoInvalida","operationId":"decidirDocumentacaoInvalidaUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"consultaRequest","description":"consultaRequest","required":true,"schema":{"$ref":"#/definitions/ConsultaDecisaoRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaMinResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/encaminhamento":{"patch":{"tags":["consulta-controller"],"summary":"encaminhar","operationId":"encaminharUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"request","description":"request","required":true,"schema":{"$ref":"#/definitions/ConsultaEncaminhamentoRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaMinResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/marcador":{"patch":{"tags":["consulta-controller"],"summary":"adicionarMarcador","operationId":"adicionarMarcadorUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"consultaRequest","description":"consultaRequest","required":true,"schema":{"$ref":"#/definitions/ConsultaMarcadorRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaMinResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}},"/consultas/{id}/reprovacao":{"patch":{"tags":["consulta-controller"],"summary":"reprovar","operationId":"reprovarUsingPATCH","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"},{"in":"body","name":"consultaRequest","description":"consultaRequest","required":true,"schema":{"$ref":"#/definitions/ConsultaDecisaoRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Response«ConsultaMinResponse»"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"Authorization":["global"]}]}}},"securityDefinitions":{"Authorization":{"type":"apiKey","name":"Authorization","in":"header"}},"definitions":{"AnalistaMinResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"}},"title":"AnalistaMinResponse"},"AtribuicaoResponse":{"type":"object","properties":{"camposPendenciados":{"type":"string"},"dataFim":{"type":"string","format":"date-time"},"dataInicio":{"type":"string","format":"date-time"},"duracao":{"type":"integer","format":"int64"},"itensChecados":{"type":"string"},"marcadores":{"type":"string"},"observacao":{"type":"string"},"usuario":{"type":"integer","format":"int64"}},"title":"AtribuicaoResponse"},"ClienteResponse":{"type":"object","properties":{"documento":{"type":"string"},"nome":{"type":"string"}},"title":"ClienteResponse"},"ConsultaAprovacaoRequest":{"type":"object","properties":{"observacao":{"type":"string"},"respostas":{"type":"array","items":{"$ref":"#/definitions/RespostaRequest"}}},"title":"ConsultaAprovacaoRequest"},"ConsultaDecisaoRequest":{"type":"object","properties":{"observacao":{"type":"string"},"respostasInvalidas":{"type":"string"}},"title":"ConsultaDecisaoRequest"},"ConsultaEncaminhamentoRequest":{"type":"object","properties":{"idFila":{"type":"integer","format":"int64"},"observacao":{"type":"string"}},"title":"ConsultaEncaminhamentoRequest"},"ConsultaFilaResponse":{"type":"object","properties":{"data":{"type":"string","format":"date-time"},"dataFim":{"type":"string","format":"date-time"},"fila":{"$ref":"#/definitions/FilaResponse"},"observacao":{"type":"string"},"usuario":{"type":"integer","format":"int64"}},"title":"ConsultaFilaResponse"},"ConsultaHistoricoResponse":{"type":"object","properties":{"cliente":{"$ref":"#/definitions/ClienteResponse"},"data":{"type":"string","format":"date-time"},"decisao":{"$ref":"#/definitions/DecisaoResponse"},"id":{"type":"integer","format":"int64"},"observacao":{"type":"string"},"origemComercial":{"type":"integer","format":"int64"},"produto":{"type":"integer","format":"int64"},"promotor":{"type":"integer","format":"int64"},"proposta":{"type":"integer","format":"int64"},"ultimaAtribuicao":{"$ref":"#/definitions/AtribuicaoResponse"}},"title":"ConsultaHistoricoResponse"},"ConsultaMarcadorRequest":{"type":"object","properties":{"marcador":{"$ref":"#/definitions/MarcadorRequest"},"observacao":{"type":"string"}},"title":"ConsultaMarcadorRequest"},"ConsultaMinResponse":{"type":"object","properties":{"etapa":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"}},"title":"ConsultaMinResponse"},"ConsultaPartialResponse":{"type":"object","properties":{"cliente":{"$ref":"#/definitions/ClienteResponse"},"data":{"type":"string","format":"date-time"},"decisao":{"type":"string","enum":["APROVADO","REPROVADO","ABSTIDO","DOCUMENTACAO_INVALIDA","BIOMETRIA_INVALIDA"]},"etapa":{"type":"integer","format":"int64"},"filaAtual":{"$ref":"#/definitions/FilaResponse"},"id":{"type":"integer","format":"int64"},"limiteSugerido":{"type":"number"},"marcadores":{"type":"array","items":{"$ref":"#/definitions/MarcadorResponse"}},"origemComercial":{"type":"integer","format":"int64"},"produto":{"type":"integer","format":"int64"},"promotor":{"type":"integer","format":"int64"},"proposta":{"type":"integer","format":"int64"},"status":{"type":"string","enum":["PENDENTE","EM_ANALISE","FINALIZADO"]},"ultimaAtribuicao":{"$ref":"#/definitions/AtribuicaoResponse"}},"title":"ConsultaPartialResponse"},"ConsultaResponse":{"type":"object","properties":{"atribuicoes":{"type":"array","items":{"$ref":"#/definitions/AtribuicaoResponse"}},"checklist":{"type":"array","items":{"type":"integer","format":"int64"}},"cliente":{"$ref":"#/definitions/ClienteResponse"},"data":{"type":"string","format":"date-time"},"decisao":{"$ref":"#/definitions/DecisaoResponse"},"etapa":{"type":"integer","format":"int64"},"filaAtual":{"$ref":"#/definitions/FilaResponse"},"filas":{"type":"array","items":{"$ref":"#/definitions/ConsultaFilaResponse"}},"historico":{"type":"array","items":{"$ref":"#/definitions/ConsultaHistoricoResponse"}},"id":{"type":"integer","format":"int64"},"limiteMaximoAnalista":{"type":"number"},"limiteMaximoSaque":{"type":"number"},"limiteMinimoAnalista":{"type":"number"},"limiteMinimoSaque":{"type":"number"},"limiteParcelamentoSugerido":{"type":"number"},"limiteSaqueInternacionalSugerido":{"type":"number"},"limiteSaqueSugerido":{"type":"number"},"limiteSugerido":{"type":"number"},"marcadores":{"type":"array","items":{"$ref":"#/definitions/MarcadorResponse"}},"observacao":{"type":"string"},"origemComercial":{"type":"integer","format":"int64"},"produto":{"type":"integer","format":"int64"},"promotor":{"type":"integer","format":"int64"},"proposta":{"type":"integer","format":"int64"},"status":{"type":"string","enum":["PENDENTE","EM_ANALISE","FINALIZADO"]},"tempoTotalAnalise":{"type":"integer","format":"int64"},"tempoTotalMesa":{"type":"integer","format":"int64"},"ultimaAtribuicao":{"$ref":"#/definitions/AtribuicaoResponse"}},"title":"ConsultaResponse"},"DecisaoResponse":{"type":"object","properties":{"data":{"type":"string","format":"date-time"},"limiteParcelamento":{"type":"number"},"limiteRotativo":{"type":"number"},"observacao":{"type":"string"},"resultado":{"type":"string","enum":["APROVADO","REPROVADO","ABSTIDO","DOCUMENTACAO_INVALIDA","BIOMETRIA_INVALIDA"]}},"title":"DecisaoResponse"},"FilaResponse":{"type":"object","properties":{"analistas":{"type":"array","items":{"$ref":"#/definitions/AnalistaMinResponse"}},"codigo":{"type":"string"},"id":{"type":"integer","format":"int64"},"nome":{"type":"string"}},"title":"FilaResponse"},"ItemChecadoRequest":{"type":"object","properties":{"idExterno":{"type":"integer","format":"int64"},"titulo":{"type":"string"}},"title":"ItemChecadoRequest"},"MarcadorRequest":{"type":"object","properties":{"cor":{"type":"string","enum":["AZUL","VERMELHO","AMARELO","VERDE","CINZA","LARANJA"]},"idExterno":{"type":"integer","format":"int64"},"tipo":{"type":"string","enum":["INCONFORMIDADE","CLASSIFICACAO"]},"titulo":{"type":"string"}},"title":"MarcadorRequest"},"MarcadorResponse":{"type":"object","properties":{"cor":{"type":"string","enum":["AZUL","VERMELHO","AMARELO","VERDE","CINZA","LARANJA"]},"id":{"type":"integer","format":"int64"},"idExterno":{"type":"integer","format":"int64"},"tipo":{"type":"string","enum":["INCONFORMIDADE","CLASSIFICACAO"]},"titulo":{"type":"string"}},"title":"MarcadorResponse"},"Pageable":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"sort":{"$ref":"#/definitions/Sort"},"unpaged":{"type":"boolean"}},"title":"Pageable"},"Page«ConsultaPartialResponse»":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/definitions/ConsultaPartialResponse"}},"empty":{"type":"boolean"},"first":{"type":"boolean"},"last":{"type":"boolean"},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/definitions/Pageable"},"size":{"type":"integer","format":"int32"},"sort":{"$ref":"#/definitions/Sort"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}},"title":"Page«ConsultaPartialResponse»"},"Response«ConsultaMinResponse»":{"type":"object","properties":{"data":{"$ref":"#/definitions/ConsultaMinResponse"},"errors":{"type":"array","items":{"type":"string"}},"links":{"type":"array","items":{"type":"string"}}},"title":"Response«ConsultaMinResponse»"},"Response«ConsultaResponse»":{"type":"object","properties":{"data":{"$ref":"#/definitions/ConsultaResponse"},"errors":{"type":"array","items":{"type":"string"}},"links":{"type":"array","items":{"type":"string"}}},"title":"Response«ConsultaResponse»"},"Response«Page«ConsultaPartialResponse»»":{"type":"object","properties":{"data":{"$ref":"#/definitions/Page«ConsultaPartialResponse»"},"errors":{"type":"array","items":{"type":"string"}},"links":{"type":"array","items":{"type":"string"}}},"title":"Response«Page«ConsultaPartialResponse»»"},"RespostaRequest":{"type":"object","properties":{"campoCodigo":{"type":"string"},"ordem":{"type":"string"},"valor":{"type":"string"}},"title":"RespostaRequest"},"Sort":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}},"title":"Sort"}}}